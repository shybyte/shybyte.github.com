<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Cell Counter</title>
    <script type="text/javascript" src="libs/jquery.js"></script>
    <script type="text/javascript" src="libs/jquery.tools.min.js"></script>
    <script type="text/javascript" src="libs/underscore.js"></script>
    <script type="text/javascript" src="libs/common.js"></script>
    <script type="text/javascript" src="js/utils.js"></script>
    <script type="text/javascript" src="js/filters.js"></script>
    <script type="text/javascript" src="js/filters-fast.js"></script>
    <script type="text/javascript" src="js/cell-counter.js"></script>
    <link type="text/css" rel="stylesheet" href="css/style.css">
    <style type="text/css"></style>
    <script type="text/javascript">
        jq(function () {

        });
    </script>
</head>
<body>
<h1>Marco's Cell Counter</h1>

<div id="menu">
    <a href="#" id="restoreSavedCroppingLink" style="display: none;">Restore Saved Cropping</a>
    <a href="#" id="restoreOriginalImageLink" style="display: none;">Restore Original Image</a>
    <a href="#" id="cropImageLink" >Crop Image</a>
    <a href="#" id="configureLink" rel="#configureDialog">Settings</a>
    <a href="#" id="helpLink" rel="#helpDialog">Help</a>
</div>

<div id="tools">

    <div class="toolsSection" >
        <div id="markingTypeSelectors"></div>
    </div>

    <div class="toolsSection" >
        <label for="markingsSize" class="rangeLabel">Markings Size:</label>
        <input id="markingsSize" type="range" min="0" max="20" value="9">
        <button id="removeAllMarkings">Remove All Markings</button>
    </div>

    <div class="toolsSection">
    </div>

    <div class="toolsSection">
        <label for="threshold" class="rangeLabel">Threshold:</label>
        <input id="threshold" type="range" min="0" max="255" value="100">

        <label for="fadeThresholdImage" class="rangeLabel">Fade Threshold Image:</label>
        <input id="fadeThresholdImage" type="range" min="0" max="255" value="0">

    </div>

    <div class="toolsSection">
        <label for="imageTypeSelector">Cell Image Type:</label>
        <select name="imageTypeSelector" id="imageTypeSelector">
            <option value="brightOnDark" selected="">Bright On Dark</option>
            <option value="whiteOnBlue">White On Blue</option>
        </select>
        <button id="autoCountButton">Count Automatically</button>
        <div id="countingMessage" style="display: none;"><img src="images/spinner.gif">Counting <span id="countingProgress">0</span>% ...</div>
        <button id="filterButton" style="display: none;">Filter</button>
    </div>

</div>

<div id="mainCanvasContainer">
    <input id="openFile" type="file" value="Open Image" title="Open Image File"/>
    <noscript>Please enable JavaScript.</noscript>
    <div id="canvasAndHelpContainer">
        <div id="helpText" style="display: none"></div>
        <div id="mainCanvasContainer2">
            <canvas id="mainCanvas">
                Your browser is too old to run this application. Please use a newer browser.
                We recommend <a href="http://www.mozilla.org/">firefox</a> or <a href="http://www.google.de/chrome/">
                google chrome</a>.
            </canvas>
            <canvas id="filteredCanvas"></canvas>
            <div dropzone="true" id="markings">
                <div id="cropSelection" style="display:none;"></div>
            </div>
        </div>
    </div>
</div>

<div class="modal" id="configureDialog" style="display: none;">
    <h2>Configure Cell Counter</h2>
    <h3>Marking Types</h3>
    <div id="enabledMarkingTypesSelector">
        
    </div>

    <p>
        <button id="configureOKButton" class="close">OK</button>
        <button class="close">Cancel</button>
    </p>
</div>

<div class="modal" id="helpDialog" style="display: none;">
    <h2>Help</h2>
    <h3>Manual Counting</h3>
    <p>
        Add a new marking with a left mouse click. Remove a marking with a right mouse click.
        Alternatively you can hold the CTRL key while clicking left in order to remove a marking.
    </p>
    <button class="close">Close</button>
</div>

</body>
</html>